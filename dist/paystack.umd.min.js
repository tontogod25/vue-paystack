!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("vue")):"function"==typeof define&&define.amd?define(["exports","vue"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).Paystack={},e.Vue)}(this,(function(e,t){"use strict";var a=(e,t)=>{for(const[a,n]of t)e[a]=n;return e};const n=t.defineComponent({name:"PayStack",props:{embed:{type:Boolean,default:!1},paystackkey:{type:String,required:!0},email:{type:String,required:!0},firstname:{type:String,default:""},lastname:{type:String,default:""},amount:{type:Number,required:!0,validator:e=>e>0},reference:{type:String,required:!0},channels:{type:Array,default:()=>["card","bank"]},accessCode:{type:String,default:""},callback:{type:Function,required:!0,default:e=>e},close:{type:Function,required:!0,default:()=>{}},metadata:{type:Object,default:()=>({})},currency:{type:String,default:"NGN"},plan:{type:String,default:""},quantity:{type:String,default:""},subaccount:{type:String,default:""},split:{type:Object,default:()=>({})},splitCode:{type:String,default:""},transactionCharge:{type:Number,default:0},bearer:{type:String,default:""}},setup(e){const{paystackkey:a,email:n,firstname:l,lastname:r,channels:u,amount:o,accessCode:c,reference:s,callback:d,close:i,metadata:p,currency:y,plan:f,quantity:m,splitCode:v,split:b,subaccount:k,transactionCharge:g,bearer:h,embed:S}=t.toRefs(e),C=t.ref(null);let q=()=>e.split.constructor===Object&&Object.keys(e.split).length>0,P=()=>{C.value&&C.value.then((()=>{const e={key:a.value,email:n.value,firstname:l.value,lastname:r.value,channels:u.value,amount:o.value,access_code:c.value,ref:s.value,callback:e=>{d.value(e)},onClose:()=>{i.value()},metadata:p.value,currency:y.value,plan:f.value,quantity:m.value,subaccount:q()?"":k.value,split:q()?b.value:null,split_code:q()?"":v.value,transaction_charge:q()?0:g.value,bearer:q()?"":h.value};S.value&&(e.container="paystackEmbedContainer");const t=window.PaystackPop.setup(e);S.value||t.openIframe()}))};return t.onBeforeMount((()=>{C.value=new Promise((e=>{(e=>{const t=document.createElement("script");t.src="https://js.paystack.co/v1/inline.js",document.getElementsByTagName("head")[0].appendChild(t),t.readyState?t.onreadystatechange=()=>{"loaded"!==t.readyState&&"complete"!==t.readyState||(t.onreadystatechange=null,e())}:t.onload=()=>{e()}})((()=>{e()}))}))})),t.onMounted((()=>{S.value&&P()})),{payWithPaystack:P}}}),l=t.createTextVNode("Make Payment"),r={key:1,id:"paystackEmbedContainer"};var u=a(n,[["render",function(e,a,n,u,o,c){return e.embed?(t.openBlock(),t.createElementBlock("div",r)):(t.openBlock(),t.createElementBlock("button",{key:0,class:"payButton",onClick:a[0]||(a[0]=(...t)=>e.payWithPaystack&&e.payWithPaystack(...t))},[t.renderSlot(e.$slots,"default",{},(()=>[l]))]))}]]);e.default=u,Object.defineProperty(e,"__esModule",{value:!0}),e[Symbol.toStringTag]="Module"}));
