!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("vue")):"function"==typeof define&&define.amd?define(["exports","vue"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).Paystack={},e.Vue)}(this,(function(e,t){"use strict";var a=(e,t)=>{for(const[a,n]of t)e[a]=n;return e};const n=t.defineComponent({name:"PayStack",props:{embed:{type:Boolean,default:!1},paystackkey:{type:String,required:!0},email:{type:String,required:!0},firstname:{type:String,default:""},lastname:{type:String,default:""},amount:{type:Number,required:!0,validator:e=>e>0},reference:{type:String,required:!0},channels:{type:Array,default:()=>["card","bank"]},accessCode:{type:String,default:""},callback:{type:Function,required:!0,default:e=>e},close:{type:Function,required:!0,default:()=>{}},metadata:{type:Object,default:()=>({})},currency:{type:String,default:"NGN"},plan:{type:String,default:""},quantity:{type:String,default:""},subaccount:{type:String,default:""},split:{type:Object,default:()=>({})},splitCode:{type:String,default:""},transactionCharge:{type:Number,default:0},bearer:{type:String,default:""}},setup(e){const a=t.ref(null);let n=()=>e.split.constructor===Object&&Object.keys(e.split).length>0,r=()=>{a.value&&a.value.then((()=>{const t={key:e.paystackkey,email:e.email,firstname:e.firstname,lastname:e.lastname,channels:e.channels,amount:e.amount,access_code:e.accessCode,ref:e.reference,callback:t=>{e.callback(t)},onClose:()=>{e.close()},metadata:e.metadata,currency:e.currency,plan:e.plan,quantity:e.quantity,subaccount:n()?"":e.subaccount,split:n()?e.split.value:null,split_code:n()?"":e.splitCode,transaction_charge:n()?0:e.transactionCharge,bearer:n()?"":e.bearer};e.embed&&(t.container="paystackEmbedContainer");const a=window.PaystackPop.setup(t);e.embed||a.openIframe()}))};return t.onBeforeMount((()=>{a.value=new Promise((e=>{(e=>{const t=document.createElement("script");t.src="https://js.paystack.co/v1/inline.js",document.getElementsByTagName("head")[0].appendChild(t),t.readyState?t.onreadystatechange=()=>{"loaded"!==t.readyState&&"complete"!==t.readyState||(t.onreadystatechange=null,e())}:t.onload=()=>{e()}})((()=>{e()}))}))})),t.onMounted((()=>{e.embed&&r()})),{payWithPaystack:r}}}),r=t.createTextVNode("Make Payment"),o={key:1,id:"paystackEmbedContainer"};var c=a(n,[["render",function(e,a,n,c,l,u){return e.embed?(t.openBlock(),t.createElementBlock("div",o)):(t.openBlock(),t.createElementBlock("button",{key:0,class:"payButton",onClick:a[0]||(a[0]=(...t)=>e.payWithPaystack&&e.payWithPaystack(...t))},[t.renderSlot(e.$slots,"default",{},(()=>[r]))]))}]]);e.default=c,Object.defineProperty(e,"__esModule",{value:!0}),e[Symbol.toStringTag]="Module"}));
